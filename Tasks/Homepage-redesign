# Home Page Redesign - Four Quadrants Dashboard

## Overview

A redesigned home page built around four core pillars of knowledge management:

1. **Capture** - Capture knowledge found
2. **Grow** - Find ways to grow knowledge
3. **Apply** - Find ways to apply knowledge
4. **Track** - See historical progress

## Mockup

Interactive HTML mockup with theme switching:
- **Location:** [`/mockup-home-redesign.html`](../mockup-home-redesign.html)
- Open in browser to see the full design with all five themes

---

## Quadrant Details

### 1. Capture Quadrant
Smart AI-powered capture that "just figures it out."

**Features:**
- Smart AI input: Paste anything (quotes, URLs, screenshots, meeting notes) and AI extracts thoughts, notes, and sources automatically
- Quick action buttons: "New Note" and "Quick Thought" for manual entry
- Recent captures list showing recent thoughts and notes with context badges

**Implementation reference:**
- Uses same pattern as `AICaptureModal.tsx` for AI-powered extraction

### 2. Grow Quadrant
AI-powered discovery for expanding knowledge.

**Features:**
- Topic search with AI "Discover" button
- Context chips for quick filtering by existing contexts (Leadership, Focus, Meetings, etc.)
- AI-suggested content (articles, podcasts) based on user's interests
- "Surprise me" button for serendipitous discovery

**Implementation reference:**
- Uses same pattern as Discover and explore feature powered by AI

### 3. Apply Quadrant
Help users actively apply their knowledge.

**Features:**
- **Today's Thought:** Featured thought for the day with graduation progress bar
- Action buttons: "Check In" (apply the thought) and "Shuffle" (get a different one)
- Upcoming moments: Calendar integration showing meetings with relevant gems attached

**Implementation reference:**
- Uses same foundation as moments and calendar integrations that exist today

### 4. Track Quadrant
Visualize progress and motivate continued engagement.

**Features:**
- Streak banner with fire icon and weekly activity dots
- Week stats: Applications count and new captures with trend indicators
- Graduation callout: Thoughts close to graduating (with "1 more!" highlight)
- Compact stats footer: Active gems, graduated gems, total applications

---

## TF Thinks - AI Personal Insights

An AI-powered feature that analyzes user behavior and provides personalized observations.

**Location in UI:** Right below the greeting ("Good afternoon, Sarah")

**Features:**
- AI-generated insights about user patterns and behaviors
- Contextual suggestions linking to relevant thoughts in Active List
- Refresh and dismiss buttons
- Carousel dots for multiple insights (optional - can show single rotating insight instead)

### AI Prompt for TF Thinks

```
You are TF (ThoughtFlow), an AI companion that helps users understand their own thinking and behavior patterns. Analyze the user's data and generate insightful, personalized observations.

## Available Data Sources
- Captured thoughts, notes, and sources (content, contexts, timestamps)
- Application history (when thoughts were applied, to what events)
- Graduation data (which thoughts graduated, how long it took)
- Calendar events (meeting types, frequency, attendees)
- Usage patterns (time of day, frequency, streaks)
- Context preferences (most used contexts, context combinations)

## Insight Categories

### Behavioral Patterns
- When they're most active (time of day, day of week)
- How they prefer to capture (quick thoughts vs long notes)
- Application patterns (which contexts get applied most)

### Psyche & Personality Insights
- What types of content they gravitate toward (leadership, relationships, productivity)
- Learning style indicators (visual, auditory, reading preferences)
- Depth vs breadth tendencies (few deep contexts vs many varied ones)
- Consistency patterns (steady vs burst activity)
- Growth areas they're drawn to vs avoiding

### Forward-Looking Predictions
- Upcoming busy days based on calendar
- Thoughts that might be relevant for scheduled events
- Suggestions based on past patterns
- Graduation predictions

### Content-Based Insights
- Themes emerging across recent captures
- Connections between seemingly unrelated thoughts
- Evolution of thinking over time
- Frequency and depth of engagement with specific topics

## Output Format
Generate 3-5 insights per session, varying between categories. Each insight should:
1. Be conversational and warm, not clinical
2. Reference specific data points when possible
3. Include an actionable element or relevant thought suggestion
4. Be concise (1-2 sentences max)

## Tone
- Observational, not prescriptive ("I noticed..." not "You should...")
- Curious and supportive
- Occasionally playful
- Never judgmental about gaps or inconsistencies

## Example Outputs
- "Tomorrow looks busy — 4 meetings on your calendar. You tend to apply 'Meetings' thoughts 2x more on days like this."
- "You've been capturing a lot about leadership lately. Your 'Relationships' context hasn't seen action in 2 weeks — missing it?"
- "3 of your last 5 captures were late-night saves. Night owl mode activated?"
- "Your 'Focus' thoughts graduate faster than any other context. Something about deep work really clicks for you."
- "You save a lot of quotes but rarely save your own original thoughts. Your insights matter too!"
```

---

## Design System Compliance

The mockup uses CSS variables from `globals.css` to ensure theme compatibility:

- Colors: `--primary`, `--foreground`, `--muted-foreground`, `--success`, `--warning`, `--highlight`
- Glassmorphism: `--glass-card-bg`, `--glass-card-border`, `--glass-card-blur`, `--glass-card-shadow`
- AI gradient: `--ai-gradient-start`, `--ai-gradient-end`, `--ai-glow`

**Supported themes:** All themes available in settings page and globally.

---

## Design Decisions

1. **TF Thinks carousel:** Yes - show multiple insights with dots for browsing
2. **Suggestion card (bulb icon):** Removed - keep TF thinks card clean and focused on the insight only

---

## Implementation Notes

### Components Created
- `HomeQuadrant.tsx` - Reusable quadrant container with glassmorphism and padding
- `TFInsight.tsx` - The TF thinks card component with carousel navigation (arrows + dots)
- `SmartCaptureInput.tsx` - The AI-powered paste/capture input with auto-analyze
- `CaptureQuadrant.tsx` - Capture quadrant with AI capture, notes, and recent captures
- `GrowQuadrant.tsx` - Grow quadrant with personalized topics and discovery search
- `ApplyQuadrant.tsx` - Apply quadrant with daily thought, shuffle, and upcoming moments
- `TrackQuadrant.tsx` - Track quadrant with streak, stats, and graduation progress

### API Endpoints
- `GET /api/tf/insights` - Generate TF thinks insights
- `GET /api/home/stats` - Aggregated stats for Track quadrant
- `POST /api/thoughts/shuffle` - Get random thought from Active List for shuffle feature
- Calendar integration via existing calendar APIs

### Data Requirements
- User's recent captures (last 30 days)
- Application history
- Streak data
- Calendar integration (if available)
- Graduation progress for active thoughts

---

## Implementation Updates (January 2026)

### UX Improvements

1. **Card Spacing & Layout**
   - Added `p-4` padding to all quadrant cards
   - Reduced grid gaps for better screen fit without scrolling
   - Compact margins on greeting and TF Insight sections

2. **Grow Quadrant - Personalized Topics**
   - "For You" section shows topics based on user's most active contexts
   - Falls back to general "Trending" topics if user has no contexts
   - Context-based search queries: "latest insights and tips about {context}"
   - Auto-search when navigating from homepage (URL params: `?q=`, `?context=`, `?surprise=`)

3. **Capture Quadrant - Auto-Analyze**
   - Typing in capture input opens AI modal with content pre-filled
   - Auto-triggers analysis without requiring re-entry
   - Seamless flow from homepage to AI capture

4. **TF Thinks Carousel**
   - Added left/right navigation arrows for manual scrolling
   - Dots remain clickable for direct navigation
   - Auto-rotates every 8 seconds

5. **Apply Quadrant Enhancements**
   - Shuffle button now works: fetches random thought from Active List
   - Upcoming moments filtered to show only future events
   - Uses `calendar_event_start` for proper event time display
   - Added "View recent moments" footer link
